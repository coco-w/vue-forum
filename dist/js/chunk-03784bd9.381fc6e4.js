(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-03784bd9"],{"995d":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"newEdit"},[n("header-nav",{ref:"headernav"}),n("Row",[n("i-col",{attrs:{span:"18",push:"3"}},[n("p",{staticClass:"title"},[t._v("标题")]),n("i-input",{staticStyle:{width:"300px"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),n("p",{staticClass:"title"},[t._v("内容")]),n("div",{staticClass:"edit_container"},[n("Editor",{model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),n("Row",[n("i-col",{attrs:{span:"2",push:"22"}},[n("Button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("提交")])],1)],1),n("p",{staticClass:"title"},[t._v("\n          预览\n        ")]),n("div",{staticClass:"ql-container ql-snow"},[n("div",{staticClass:"ql-editor",domProps:{innerHTML:t._s(t.content)}})])],1)],1)],1)},o=[],a=n("cebc"),s=n("ceb0"),r=n("c330"),l=n("2f62"),c={components:{HeaderNav:r["a"],Editor:s["a"]},data:function(){return{content:"",title:""}},methods:Object(a["a"])({},Object(l["b"])(["newEdit"]),{handleSubmit:function(){var t=this;if(0!==this.title.length)if(this.title.length>20)this.$Message.warning("标题不可以这么长，20个字以内");else{var e={title:this.title,content:this.content,author_id:this.$refs.headernav.id};this.newEdit(e).then(function(e){"400"===e.code&&(t.$Message.success(e.message),t.title="",t.content=""),e.err_code&&t.$Message.warning("服务器错误稍后再试")})}else this.$Message.warning("标题不可以是空的")}})},u=c,d=(n("e1f0"),n("2877")),h=Object(d["a"])(u,i,o,!1,null,null,null);e["default"]=h.exports},a9ff:function(t,e,n){},ceb0:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Upload",{staticStyle:{display:"none"},attrs:{action:"/api/saveImg","on-progress":t.handleProgress,"on-success":t.handleSuccess,"on-error":t.handleError}},[n("Button",{staticClass:"saveImg",attrs:{icon:"ios-cloud-upload-outline"}})],1),n("quill-editor",{ref:"myQuillEditor",attrs:{content:t.value,options:t.editorOption},on:{blur:function(e){return t.onEditorBlur(e)},focus:function(e){return t.onEditorFocus(e)},change:function(e){return t.onEditorChange(e)}}})],1)},o=[],a=n("cebc"),s=n("bd86"),r=n("b881"),l=(n("3040"),n("cac2"),n("1e58"),n("2f62")),c=[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]],u={name:"Editor",components:{quillEditor:r["quillEditor"]},props:{content:{type:String,default:""}},data:function(){var t;return{value:this.content,editorOption:(t={placeholder:"",theme:"snow"},Object(s["a"])(t,"placeholder","您想说点什么？"),Object(s["a"])(t,"modules",{toolbar:{container:c,handlers:{image:function(t){console.log("123"),t?document.querySelector(".saveImg").click():this.quill.format("image",!1)}}}}),t)}},methods:Object(a["a"])({},Object(l["b"])(["downLoadImg"]),{onEditorReady:function(t){},onEditorBlur:function(){},onEditorFocus:function(){},onEditorChange:function(t){t.editor;var e=t.html;t.text;this.value=e,this.$emit("input",this.value)},handleProgress:function(){},handleSuccess:function(t){var e=this.$refs.myQuillEditor.quill;if(200===t.code){var n=e.getSelection().index;e.insertEmbed(n,"image",t.path),e.setSelection(n+1)}else this.$message.error("图片插入失败")},handleError:function(){this.$message.error("图片插入失败")},handlerImage:function(){var t=document.createElement("input");t.setAttribute("type","file"),t.setAttribute("name","upload_file"),t.setAttribute("accept","image/png, image/gif, image/jpeg"),t.classList.add("ql-image"),console.log(t)}}),mounted:function(){}},d=u,h=n("2877"),f=Object(h["a"])(d,i,o,!1,null,null,null);e["a"]=f.exports},e1f0:function(t,e,n){"use strict";var i=n("a9ff"),o=n.n(i);o.a}}]);